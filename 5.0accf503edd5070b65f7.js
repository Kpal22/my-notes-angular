(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Lvw3:function(e,t,a){"use strict";a.r(t),a.d(t,"ProfileModule",function(){return Z});var r=a("hctd"),i=a("kWtj"),s=a("s7LF"),o=a("8Y7J"),n=a("0IaG"),c=a("bTqV");let d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Gb({type:e,selectors:[["app-delete-profile-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(o.Rb(0,"h2",0),o.vc(1,"Delete Profile"),o.Qb(),o.Rb(2,"mat-dialog-content"),o.vc(3,"Are you sure? Your Profile & Notes will be deleted!"),o.Qb(),o.Rb(4,"mat-dialog-actions",1),o.Rb(5,"button",2),o.vc(6,"Yes"),o.Qb(),o.Rb(7,"button",2),o.vc(8,"No"),o.Qb(),o.Qb()),2&e&&(o.Bb(5),o.ic("mat-dialog-close",!0),o.Bb(2),o.ic("mat-dialog-close",!1))},directives:[n.h,n.f,n.d,c.b,n.e],styles:[""]}),e})();var u=a("9ans"),l=a("ca0p"),b=a("dNgK"),m=a("Wp6s"),h=a("f0Cb"),p=a("kmnG"),w=a("qFsG"),v=a("SVse"),f=a("NFeN"),g=a("Qu3c"),P=a("bv9b");function R(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1,"person_outline"),o.Qb())}function Q(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1,"report_gmailerrorred"),o.Qb())}function S(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"Name is required"),o.Qb())}function I(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"Name must have 3 chars of more "),o.Qb())}function B(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1,"email"),o.Qb())}function y(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1,"mark_email_read"),o.Qb())}function q(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1,"report_gmailerrorred"),o.Qb())}function N(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"Email is required"),o.Qb())}function k(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1," Email is inavlid"),o.Qb())}function E(e,t){1&e&&o.Nb(0,"mat-progress-bar",23)}function x(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1," password "),o.Qb())}function C(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1," report_gmailerrorred "),o.Qb())}function F(e,t){if(1&e){const e=o.Sb();o.Rb(0,"mat-icon",24),o.Yb("click",function(){o.nc(e);const t=o.cc();return t.hideOldPasswordInput=!t.hideOldPasswordInput}),o.vc(1),o.Qb()}if(2&e){const e=o.cc();o.Bb(1),o.xc(" ",e.hideOldPasswordInput?"visibility":"visibility_off"," ")}}function O(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"Old Password is required "),o.Qb())}function _(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"Old Password must have 8 chars of more "),o.Qb())}function G(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1," password "),o.Qb())}function M(e,t){1&e&&(o.Rb(0,"mat-icon",22),o.vc(1," report_gmailerrorred "),o.Qb())}function U(e,t){if(1&e){const e=o.Sb();o.Rb(0,"mat-icon",24),o.Yb("click",function(){o.nc(e);const t=o.cc();return t.hideNewPasswordInput=!t.hideNewPasswordInput}),o.vc(1),o.Qb()}if(2&e){const e=o.cc();o.Bb(1),o.xc(" ",e.hideNewPasswordInput?"visibility":"visibility_off"," ")}}function A(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"New Password is required "),o.Qb())}function Y(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"New Password must have 8 chars of more "),o.Qb())}function V(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"Password requires at least 1 capital, 1 small, 1 number, and 1 special character"),o.Qb())}function J(e,t){1&e&&(o.Rb(0,"mat-error"),o.vc(1,"New & Old password can't be same! "),o.Qb())}function T(e,t){if(1&e&&(o.Rb(0,"mat-hint"),o.vc(1),o.Qb()),2&e){const e=o.cc();o.rc("color",e.passwordRGB),o.Bb(1),o.xc("Password is ",e.passwordStrength," ")}}function j(e,t){1&e&&o.Nb(0,"mat-progress-bar",23)}let D=(()=>{class e{constructor(e,t,a,r){this.authService=e,this.passService=t,this.matSnckBar=a,this.matDialog=r,this.validateEmail=e=>this.emailRegex.test(e.value)?null:{invalidEmail:!0},this.validatePassword=e=>this.passwordRegx.test(e.value)?null:{invalidPassword:!0},this.validateSamePassword=e=>e.value===this.oldPassword.value?{samePassword:!0}:null,this.openSnackBar=e=>this.matSnckBar.open(e,"X",{duration:3e3}),this.generatePassword=()=>{const e=this.passService.generatePass(15);this.newPassword.setValue(e),this.copyCodeToClipboard(e)},this.checkPassStrength=e=>{const t=this.passService.passStrength(e)-50;this.passwordStrength=50===t?"Very Strong":t>=40?"Strong":t>=30?"Average":t>=20?"Below Average":t>=10?"Weak":"Very Weak",this.passwordRGB=`rgb(${Math.ceil(255*(50-t)/50)}, ${Math.ceil(163*t/50)+28}, ${Math.ceil(137*t/50)+28})`},this.copyCodeToClipboard=e=>{var t,a,r,i;const s=document.createElement("textarea");s.value=e,s.setAttribute("readonly",""),s.style.position="absolute",s.style.right="-99999px",document.body.appendChild(s);const o=(null===(t=document.getSelection())||void 0===t?void 0:t.rangeCount)?null===(a=document.getSelection())||void 0===a?void 0:a.getRangeAt(0):null;s.select(),document.execCommand("copy"),this.matSnckBar.open("Password Inserted & Copied!","X",{duration:3e3}),document.body.removeChild(s),o&&(null===(r=document.getSelection())||void 0===r||r.removeAllRanges(),null===(i=document.getSelection())||void 0===i||i.addRange(o))},this.onUpdate=()=>{var e,t;this.updateForm.valid&&(this.name.value===(null===(e=this.user)||void 0===e?void 0:e.name)&&this.email.value===(null===(t=this.user)||void 0===t?void 0:t.email)?this.openSnackBar("Nothing to update!"):(this.updateForm.disable(),this.updating=!0,this.authSub=this.authService.update({name:this.name.value,email:this.email.value}).subscribe(e=>{this.openSnackBar("Update Successful!"),this.updating=!1,this.updateForm.enable()},e=>{this.openSnackBar(e),this.updating=!1,this.updateForm.enable()})))},this.onUpdatePassword=()=>{this.updatePassForm.valid&&(this.updatePassForm.disable(),this.updatingPass=!0,this.authSub=this.authService.updatePass({oldPassword:this.oldPassword.value,newPassword:this.newPassword.value}).subscribe(e=>{this.openSnackBar("Password Update Successful!"),this.updatingPass=!1,this.updatePassForm.enable(),this.authService.logout("password")},e=>{this.openSnackBar(e),this.updatingPass=!1,this.updatePassForm.enable()}))},this.deleteProfile=()=>this.matDialog.open(d).afterClosed().subscribe(e=>e?this.authService.delete():null),this.emailRegex=/\S+@\S+\.\S+/,this.passwordRegx=/^(?=.*?[0-9])(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[#?!@$%^&*\-_]).{8,}$/,this.passwordRGB="rgb(255, 0, 0)",this.passwordStrength="Very Weak",this.hideOldPasswordInput=!0,this.hideNewPasswordInput=!0,this.updating=!1,this.updatingPass=!1,this.authSub=this.authService.authenticatedUser.subscribe(e=>this.user=e)}ngOnInit(){var e,t;this.name=new s.c(null===(e=this.user)||void 0===e?void 0:e.name,[s.q.required,s.q.minLength(3)]),this.email=new s.c(null===(t=this.user)||void 0===t?void 0:t.email,[s.q.required,this.validateEmail]),this.updateForm=new s.f({name:this.name,email:this.email}),this.oldPassword=new s.c("",[s.q.required,s.q.minLength(8)]),this.newPassword=new s.c("",[s.q.required,s.q.minLength(8),this.validateSamePassword]),this.newPassword.valueChanges.subscribe(e=>this.checkPassStrength(e)),this.updatePassForm=new s.f({oldPassword:this.oldPassword,newPassword:this.newPassword})}ngOnDestroy(){this.authSub&&this.authSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(u.a),o.Mb(l.a),o.Mb(b.a),o.Mb(n.c))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-user-profile"]],decls:77,vars:30,consts:[[1,"container-fluid",2,"min-height","82vh"],[1,"row","py-4"],[1,"col-md-6","py-2"],[1,"pt-2"],[3,"formGroup","ngSubmit"],["appearance","outline","color","accent"],["type","text","matInput","","formControlName","name","required",""],["matSuffix","",4,"ngIf"],[4,"ngIf"],["type","email","matInput","","formControlName","email","required",""],["mat-raised-button","","color","accent",1,"btn-shadow","px-3","w-100","f-lg",3,"disabled"],["mode","indeterminate","color","accent","style","height: 5px;",4,"ngIf"],["matInput","","formControlName","oldPassword","required","",3,"type"],["matSuffix","","style","cursor: pointer;",3,"click",4,"ngIf"],["matInput","","formControlName","newPassword","required","",3,"type"],["matPrefix","","matTooltip","Generate Strong newPassword","matTooltipPosition","above",2,"cursor","pointer",3,"click"],[3,"color",4,"ngIf"],[1,"row","px-3"],[1,"spceial-divider"],[1,"spceial-divider-span"],[2,"margin","auto"],["mat-raised-button","","color","warn",2,"width","250px",3,"click"],["matSuffix",""],["mode","indeterminate","color","accent",2,"height","5px"],["matSuffix","",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"div",2),o.Rb(3,"mat-card"),o.Rb(4,"mat-card-header"),o.Rb(5,"mat-card-title"),o.Rb(6,"h2"),o.vc(7,"Update Profile"),o.Qb(),o.Qb(),o.Qb(),o.Nb(8,"mat-divider"),o.Rb(9,"mat-card-content",3),o.Rb(10,"form",4),o.Yb("ngSubmit",function(){return t.onUpdate()}),o.Rb(11,"mat-form-field",5),o.Rb(12,"mat-label"),o.vc(13,"Enter Name"),o.Qb(),o.Nb(14,"input",6),o.uc(15,R,2,0,"mat-icon",7),o.uc(16,Q,2,0,"mat-icon",7),o.uc(17,S,2,0,"mat-error",8),o.uc(18,I,2,0,"mat-error",8),o.Qb(),o.Rb(19,"mat-form-field",5),o.Rb(20,"mat-label"),o.vc(21,"Enter Email"),o.Qb(),o.Nb(22,"input",9),o.uc(23,B,2,0,"mat-icon",7),o.uc(24,y,2,0,"mat-icon",7),o.uc(25,q,2,0,"mat-icon",7),o.uc(26,N,2,0,"mat-error",8),o.uc(27,k,2,0,"mat-error",8),o.Qb(),o.Rb(28,"button",10),o.vc(29,"Submit"),o.Qb(),o.Qb(),o.Qb(),o.Rb(30,"mat-card-actions"),o.uc(31,E,1,0,"mat-progress-bar",11),o.Qb(),o.Qb(),o.Qb(),o.Rb(32,"div",2),o.Rb(33,"mat-card"),o.Rb(34,"mat-card-header"),o.Rb(35,"mat-card-title"),o.Rb(36,"h2"),o.vc(37,"Update Password"),o.Qb(),o.Qb(),o.Qb(),o.Nb(38,"mat-divider"),o.Rb(39,"mat-card-content",3),o.Rb(40,"form",4),o.Yb("ngSubmit",function(){return t.onUpdatePassword()}),o.Rb(41,"mat-form-field",5),o.Rb(42,"mat-label"),o.vc(43,"Enter Old Password"),o.Qb(),o.Nb(44,"input",12),o.uc(45,x,2,0,"mat-icon",7),o.uc(46,C,2,0,"mat-icon",7),o.uc(47,F,2,1,"mat-icon",13),o.uc(48,O,2,0,"mat-error",8),o.uc(49,_,2,0,"mat-error",8),o.Qb(),o.Rb(50,"mat-form-field",5),o.Rb(51,"mat-label"),o.vc(52,"Enter New Password"),o.Qb(),o.Nb(53,"input",14),o.uc(54,G,2,0,"mat-icon",7),o.uc(55,M,2,0,"mat-icon",7),o.uc(56,U,2,1,"mat-icon",13),o.uc(57,A,2,0,"mat-error",8),o.uc(58,Y,2,0,"mat-error",8),o.uc(59,V,2,0,"mat-error",8),o.uc(60,J,2,0,"mat-error",8),o.Rb(61,"mat-icon",15),o.Yb("click",function(){return t.generatePassword()}),o.vc(62,"vpn_key"),o.Qb(),o.uc(63,T,2,3,"mat-hint",16),o.Qb(),o.Rb(64,"button",10),o.vc(65,"Submit"),o.Qb(),o.Qb(),o.Qb(),o.Rb(66,"mat-card-actions"),o.uc(67,j,1,0,"mat-progress-bar",11),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(68,"div",17),o.Nb(69,"mat-divider",18),o.Rb(70,"span",19),o.vc(71,"OR"),o.Qb(),o.Nb(72,"mat-divider",18),o.Qb(),o.Rb(73,"div",1),o.Rb(74,"div",20),o.Rb(75,"button",21),o.Yb("click",function(){return t.deleteProfile()}),o.vc(76,"Delete Profile"),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.Bb(10),o.ic("formGroup",t.updateForm),o.Bb(5),o.ic("ngIf",!t.name.touched||t.name.valid),o.Bb(1),o.ic("ngIf",t.name.touched&&t.name.invalid),o.Bb(1),o.ic("ngIf",t.name.touched&&t.name.hasError("required")),o.Bb(1),o.ic("ngIf",t.name.touched&&t.name.hasError("minlength")),o.Bb(5),o.ic("ngIf",!t.email.touched&&t.email.invalid),o.Bb(1),o.ic("ngIf",t.email.valid),o.Bb(1),o.ic("ngIf",t.email.touched&&t.email.invalid),o.Bb(1),o.ic("ngIf",t.email.touched&&t.email.hasError("required")),o.Bb(1),o.ic("ngIf",t.email.touched&&!t.email.hasError("required")&&t.email.hasError("invalidEmail")),o.Bb(1),o.ic("disabled",t.updateForm.invalid||t.updateForm.disabled),o.Bb(3),o.ic("ngIf",t.updating),o.Bb(9),o.ic("formGroup",t.updatePassForm),o.Bb(4),o.ic("type",t.hideOldPasswordInput?"password":"text"),o.Bb(1),o.ic("ngIf",!t.oldPassword.touched&&t.oldPassword.hasError("required")),o.Bb(1),o.ic("ngIf",t.oldPassword.touched&&t.oldPassword.hasError("required")),o.Bb(1),o.ic("ngIf",!t.oldPassword.hasError("required")),o.Bb(1),o.ic("ngIf",t.oldPassword.touched&&t.oldPassword.hasError("required")),o.Bb(1),o.ic("ngIf",t.oldPassword.touched&&t.oldPassword.hasError("minlength")),o.Bb(4),o.ic("type",t.hideNewPasswordInput?"password":"text"),o.Bb(1),o.ic("ngIf",!t.newPassword.touched&&t.newPassword.hasError("required")),o.Bb(1),o.ic("ngIf",t.newPassword.touched&&t.newPassword.hasError("required")),o.Bb(1),o.ic("ngIf",!t.newPassword.hasError("required")),o.Bb(1),o.ic("ngIf",t.newPassword.touched&&t.newPassword.hasError("required")),o.Bb(1),o.ic("ngIf",t.newPassword.touched&&t.newPassword.hasError("minlength")),o.Bb(1),o.ic("ngIf",t.newPassword.touched&&t.newPassword.hasError("invalidPassword")),o.Bb(1),o.ic("ngIf",t.newPassword.hasError("samePassword")),o.Bb(3),o.ic("ngIf",t.newPassword.touched&&!t.newPassword.hasError("required")),o.Bb(1),o.ic("disabled",t.updatePassForm.invalid||t.updatePassForm.disabled),o.Bb(3),o.ic("ngIf",t.updatingPass))},directives:[m.a,m.d,m.g,h.a,m.c,s.r,s.m,s.g,p.c,p.g,w.a,s.b,s.l,s.e,s.p,v.l,c.b,m.b,f.a,p.h,g.a,p.i,p.b,P.a,p.f],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.spceial-divider[_ngcontent-%COMP%]{width:calc(50% - 26px);display:inline-block}.spceial-divider-span[_ngcontent-%COMP%]{margin-top:-10px;font-weight:700;padding:0 16.5px}"]}),e})();var L=a("iInd"),W=a("IzEk"),$=a("lJxs");let K=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return this.authService.authenticatedUser.pipe(Object(W.a)(1),Object($.a)(e=>!!e||this.router.createUrlTree(["/home"])))}}return e.\u0275fac=function(t){return new(t||e)(o.Vb(u.a),o.Vb(L.c))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac}),e})();const z=[{path:"",component:D,canActivate:[K]}];let X=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[L.e.forChild(z)],L.e]}),e})(),Z=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},providers:[K],imports:[[i.a,r.a,X]]}),e})()}}]);