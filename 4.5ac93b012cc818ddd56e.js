(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{XoyV:function(t,e,o){"use strict";o.r(e),o.d(e,"DashboardModule",function(){return L});var n=o("s7LF"),a=o("lJxs"),i=o("0IaG"),s=o("8Y7J"),c=o("bTqV");let r=(()=>{class t{constructor(t){this.data=t}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(i.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-delete-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(s.Rb(0,"h2",0),s.vc(1),s.Qb(),s.Rb(2,"mat-dialog-content"),s.vc(3,"Are you sure?"),s.Qb(),s.Rb(4,"mat-dialog-actions",1),s.Rb(5,"button",2),s.vc(6,"Yes"),s.Qb(),s.Rb(7,"button",3),s.vc(8,"No"),s.Qb(),s.Qb()),2&t&&(s.Bb(1),s.xc("Delete Note ",e.data.title,""),s.Bb(4),s.ic("mat-dialog-close",!0),s.Bb(2),s.ic("mat-dialog-close",!1))},directives:[i.h,i.f,i.d,c.b,i.e],styles:[""]}),t})();var l=o("kmnG"),b=o("qFsG"),d=o("SVse"),h=o("f0Cb");function u(t,e){1&t&&(s.Rb(0,"mat-error"),s.vc(1,"Title is required"),s.Qb())}function m(t,e){1&t&&(s.Rb(0,"mat-error"),s.vc(1,"Maximum 25 cahrs allwoed"),s.Qb())}let p=(()=>{class t{constructor(t){this.data=t,this.getData=()=>(this.data.title=this.noteTitle.value,this.data.content=this.noteContent.value,this.data),this.noteTitle=new n.c(t.title,[n.q.required,n.q.maxLength(25)]),this.noteContent=new n.c(t.content),this.noteForm=new n.f({noteTitle:this.noteTitle,noteContent:this.noteContent})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(i.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-note-dialog"]],decls:20,vars:7,consts:[[1,"m-2"],[3,"formGroup"],["appearance","standard","color","accent"],["type","text","matInput","","formControlName","noteTitle","required",""],[4,"ngIf"],["matInput","","formControlName","noteContent","rows","5"],["align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(s.Rb(0,"mat-dialog-content",0),s.Rb(1,"form",1),s.Rb(2,"mat-form-field",2),s.Rb(3,"mat-label"),s.vc(4,"Note Title"),s.Qb(),s.Nb(5,"input",3),s.Rb(6,"mat-hint"),s.vc(7),s.Qb(),s.uc(8,u,2,0,"mat-error",4),s.uc(9,m,2,0,"mat-error",4),s.Qb(),s.Rb(10,"mat-form-field",2),s.Rb(11,"mat-label"),s.vc(12,"Note Content"),s.Qb(),s.Nb(13,"textarea",5),s.Qb(),s.Qb(),s.Qb(),s.Nb(14,"mat-divider"),s.Rb(15,"mat-dialog-actions",6),s.Rb(16,"button",7),s.vc(17,"Save"),s.Qb(),s.Rb(18,"button",8),s.vc(19,"Cancel"),s.Qb(),s.Qb()),2&t&&(s.Bb(1),s.ic("formGroup",e.noteForm),s.Bb(6),s.xc("",e.noteTitle.value.length,"/25"),s.Bb(1),s.ic("ngIf",e.noteTitle.touched&&e.noteTitle.hasError("required")),s.Bb(1),s.ic("ngIf",e.noteTitle.touched&&e.noteTitle.hasError("maxlength")),s.Bb(7),s.ic("mat-dialog-close",e.getData())("disabled",e.noteForm.invalid||e.noteForm.pristine),s.Bb(2),s.ic("mat-dialog-close",!1))},directives:[i.f,n.r,n.m,n.g,l.c,l.g,b.a,n.b,n.l,n.e,n.p,l.f,d.l,h.a,i.d,c.b,i.e,l.b],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();var f=o("z6cu"),v=o("2Vo4"),g=o("XNiG"),N=o("JIr8");class R{constructor(t,e,o="",n=new Date,a=new Date){this._id=t,this._title=e,this._content=o,this._createdAt=n,this._updatedAt=a}get id(){return this._id}get title(){return this._title}get content(){return this._content}get createdAt(){return this._createdAt}get updatedAt(){return this._updatedAt}}var w=o("AytR"),Q=o("IheW"),x=o("9ans");let C=(()=>{class t{constructor(t,e){this.http=t,this.ALL_NOTES_API=w.a.BACKEND_BASE+w.a.ALL_NOTES,this.NOTES_API=w.a.BACKEND_BASE+w.a.NOTES,this.fetchNotes=()=>this.noteOperation("get",this.ALL_NOTES_API),this.saveNote=t=>this.noteOperation("post",this.NOTES_API,t,"Note Saved Successfully!"),this.updateNote=(t,e)=>this.noteOperation("patch",this.NOTES_API+"/"+t,e,"Note Updated Successfully!"),this.deleteNote=t=>this.noteOperation("delete",this.NOTES_API+"/"+t,null,"Note Deleted Successfully!"),this.noteOperation=(t,e,o,n)=>{if(this.isAuth||"get"===t){const i={next:t=>{},error:t=>this.notesEvents.next(t)};let s;switch(t){case"get":s=this.http.get(e).pipe(Object(a.a)(t=>t.map(t=>new R(t.id,t.title,t.content,t.createdAt,t.updatedAt))));break;case"post":s=this.http.post(e,o);break;case"patch":s=this.http.patch(e,o);break;case"delete":s=this.http.delete(e);break;default:s=Object(f.a)("Client Error!")}i.next="get"===t?t=>this.userNotes.next(t):t=>{this.notesEvents.next(n),this.fetchNotes()},s.pipe(Object(N.a)(t=>Object(f.a)(t.error))).subscribe(i)}else this.notesEvents.next("Please login first!")},this.isAuth=!1,this.notes=[],this.userNotes=new v.a(this.notes),this.notesEvents=new g.a,e.authenticatedUser.subscribe(t=>{t?(this.isAuth=!0,this.fetchNotes()):(this.isAuth=!1,this.notes=[new R((new Date).toString(),"Untitled_Note")],this.userNotes.next(this.notes))})}}return t.\u0275fac=function(e){return new(e||t)(s.Vb(Q.b),s.Vb(x.a))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();var S=o("dNgK"),A=o("NFeN"),k=o("d3UM"),B=o("FKr1"),T=o("Qu3c"),O=o("Wp6s");function _(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",12),s.Yb("click",function(){return s.nc(t),s.cc().search.setValue("")}),s.Rb(1,"mat-icon"),s.vc(2,"close"),s.Qb(),s.Qb()}}function y(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",13),s.Rb(1,"mat-card"),s.Rb(2,"mat-card-header"),s.Rb(3,"mat-card-title"),s.vc(4),s.Qb(),s.Rb(5,"mat-card-subtitle"),s.vc(6),s.dc(7,"date"),s.Qb(),s.Qb(),s.Nb(8,"mat-divider"),s.Rb(9,"mat-card-content"),s.Rb(10,"p",14),s.vc(11),s.Qb(),s.Qb(),s.Nb(12,"mat-divider"),s.Rb(13,"mat-card-actions",15),s.Rb(14,"p",16),s.vc(15),s.dc(16,"date"),s.Qb(),s.Nb(17,"span",17),s.Rb(18,"button",18),s.Yb("click",function(){s.nc(t);const o=e.$implicit;return s.cc().editNote(o)}),s.Rb(19,"mat-icon"),s.vc(20,"edit"),s.Qb(),s.Qb(),s.Rb(21,"button",19),s.Yb("click",function(){s.nc(t);const o=e.$implicit;return s.cc().deleteNote(o)}),s.Rb(22,"mat-icon"),s.vc(23,"delete"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&t){const t=e.$implicit,o=s.cc();s.Bb(4),s.wc(t.title),s.Bb(2),s.xc("Created On: ",s.fc(7,4,t.createdAt,o.getDateFormat(t.createdAt))," "),s.Bb(5),s.wc(t.content),s.Bb(4),s.xc("Last Updated: ",s.fc(16,7,t.updatedAt,o.getDateFormat(t.updatedAt)),"")}}let E=(()=>{class t{constructor(t,e,o){this.notesService=t,this.dialog=e,this.matSnackBar=o,this.compareDates=(t,e)=>t<e?-1:t>e?1:0,this.newNote=()=>{this.dialog.open(p,{width:"1000px",maxWidth:"700px",data:{title:"",content:""}}).afterClosed().subscribe(t=>{t&&!t.title.isEmpty&&(this.openSnackBar("Saving note "+t.title),this.notesService.saveNote({title:t.title,content:t.content}))})},this.editNote=t=>{this.dialog.open(p,{width:"1000px",maxWidth:"700px",data:{title:t.title,content:t.content}}).afterClosed().subscribe(e=>{!e||t.title===e.title&&t.content===e.content||(this.openSnackBar("Saving note "+e.title),this.notesService.updateNote(t.id,{title:e.title,content:e.content}))})},this.deleteNote=t=>{this.dialog.open(r,{data:{title:t.title}}).afterClosed().subscribe(e=>e?this.notesService.deleteNote(t.id):null)},this.getDateFormat=t=>new Date(t).getUTCFullYear()!==(new Date).getUTCFullYear()?"MMM d, y, h:mm a":"MMM d, h:mm a",this.openSnackBar=(t,e,o)=>{var n;this.snackBarRef&&(null===(n=this.snackBarRef)||void 0===n||n.dismiss()),this.snackBarRef=this.matSnackBar.open(t,e,{duration:o})},this.search=new n.c,this.selected=new n.c,this.notes=[],this.allNotes=[],t.notesEvents.subscribe(t=>this.openSnackBar(t,"X",3e3))}ngOnInit(){this.notesService.userNotes.subscribe({next:t=>{this.allNotes=t,this.notes=this.allNotes}}),this.search.valueChanges.pipe(Object(a.a)(t=>t.toLowerCase())).subscribe(t=>{this.notes=t?this.allNotes.filter(e=>-1!==e.title.toLowerCase().search(t)||-1!==e.content.toLowerCase().search(t)):this.allNotes}),this.selected.valueChanges.subscribe(t=>{this.notes=this.notes.sort("create"===t?(t,e)=>this.compareDates(t.createdAt,e.createdAt):(t,e)=>this.compareDates(t.updatedAt,e.updatedAt))})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(C),s.Mb(i.c),s.Mb(S.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-dashboard"]],decls:24,vars:4,consts:[[1,"container-fluid",2,"min-height","82vh"],[1,"row","p-2"],["appearance","standard","color","accent",1,"mx-2",2,"min-width","258px"],["matInput","","type","text",3,"formControl"],["mat-button","","matPrefix","","mat-icon-button",""],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[3,"formControl"],["value","create"],["value","update"],[1,"row","pt-2"],["class","col-lg-4 col-md-6 pt-4",4,"ngFor","ngForOf"],["mat-fab","","color","accent","matTooltip","New Note","matTooltipPosition","above",1,"newNote",3,"click"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"col-lg-4","col-md-6","pt-4"],[1,"p-2"],[1,"mt-2"],[1,"pt-2","pl-2"],[1,"full-flex"],["mat-icon-button","","matTooltip","Edit Note","matTooltipPosition","above",3,"click"],["mat-icon-button","","matTooltip","Delete Note","matTooltipPosition","above",3,"click"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"mat-form-field",2),s.Rb(3,"mat-label"),s.vc(4,"Search"),s.Qb(),s.Nb(5,"input",3),s.Rb(6,"button",4),s.Rb(7,"mat-icon"),s.vc(8,"search"),s.Qb(),s.Qb(),s.uc(9,_,3,0,"button",5),s.Qb(),s.Rb(10,"mat-form-field",2),s.Rb(11,"mat-label"),s.vc(12,"Sort By"),s.Qb(),s.Rb(13,"mat-select",6),s.Rb(14,"mat-option",7),s.vc(15,"Create Time"),s.Qb(),s.Rb(16,"mat-option",8),s.vc(17,"Update Time"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Nb(18,"mat-divider"),s.Rb(19,"div",9),s.uc(20,y,24,10,"div",10),s.Qb(),s.Qb(),s.Rb(21,"button",11),s.Yb("click",function(){return e.newNote()}),s.Rb(22,"mat-icon"),s.vc(23,"add"),s.Qb(),s.Qb()),2&t&&(s.Bb(5),s.ic("formControl",e.search),s.Bb(4),s.ic("ngIf",e.search.value),s.Bb(4),s.ic("formControl",e.selected),s.Bb(7),s.ic("ngForOf",e.notes))},directives:[l.c,l.g,b.a,n.b,n.l,n.d,c.b,l.h,A.a,d.l,k.a,B.e,h.a,d.k,T.a,l.i,O.a,O.d,O.g,O.f,O.c,O.b],pipes:[d.e],styles:["mat-card-actions[_ngcontent-%COMP%]{display:flex;margin-top:-25px;margin-bottom:-15px!important}mat-card-content[_ngcontent-%COMP%]{height:200px;overflow-y:scroll}.mat-fab[_ngcontent-%COMP%]{position:fixed;right:20px;top:90vh;width:50px;height:50px;z-index:10}.mat-fab[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;margin-left:-5px;margin-top:-11px;font-weight:bolder}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent}"]}),t})();var I=o("iInd");const M=[{path:"",component:E}];let D=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[I.e.forChild(M)],I.e]}),t})();var F=o("hctd"),P=o("kWtj");let L=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},providers:[C],imports:[[P.a,F.a,D]]}),t})()}}]);